<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>í†µí•© ì¹´ë©”ë¼ ì¡°íšŒ v0210</title>


<style>
/* ê³µí†µ ìŠ¤íƒ€ì¼: í…ìŠ¤íŠ¸ ë° ê¸°ë³¸ ë ˆì´ì•„ì›ƒ */
body {
    font-size: 15px;
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}

/* ì œëª© ë° ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
h1 {
    text-align: start;
    font-size: 28px;
    margin-bottom: 10px;
    color: #007bff;
}

/* ìƒë‹¨ ì„¹ì…˜ ìŠ¤íƒ€ì¼: ì œëª©, ë²„íŠ¼ ë“± */
.top-section {
    display: flex;
    justify-content: space-between; /* ì¢Œìš° ë°°ì¹˜ */
    align-items: center; /* ì„¸ë¡œ ì •ë ¬ */
    padding: 10px 20px;
    background-color: #f4f4f4; /* í—¤ë” ë°°ê²½ ìƒ‰ìƒ */
    border-bottom: 1px solid #ddd; /* í•˜ë‹¨ ê²½ê³„ì„  */
}

.header-left {
    display: flex;
    align-items: center;
}

.header-left h1 {
    margin: 0;
    font-size: 20px;
    color: #007bff;
}

#taggingSlideButton {
    margin-left: 10px;
    padding: 10px 15px;
    font-size: 14px;
    background-color: #ff6347;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#taggingSlideButton:hover {
    background-color: #e55347;
}

.header-right {
    display: flex;
    gap: 15px; /* ë§í¬ ê°„ê²© */
}

.shortcut-link {
    font-size: 14px;
    color: #007bff;
    text-decoration: none;
    padding: 5px 10px;
    background-color: #f4f4f4;
    border: 1px solid #ddd;
    border-radius: 5px;
    transition: all 0.3s ease;
}

.shortcut-link:hover {
    background-color: #007bff;
    color: white;
    border-color: #007bff;
}

/* ì„¤ëª… í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
.sub-text {
    font-size: 12px;
    color: #888;
}

/* ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ë° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.sync-container {
    display: grid;
    grid-template-columns: repeat(10, 1fr); /* 10ê°œ ë²„íŠ¼ì”© ì •ë ¬ */
    grid-gap: 10px; /* ë²„íŠ¼ ê°„ê²© */
    margin-top: 10px;
}

.sync-container.top {
    margin-bottom: 10px;
}



/* í¼ ì„¹ì…˜ì˜ ì „ì²´ ë ˆì´ì•„ì›ƒ */
.form-container {
    display: flex;
    flex-wrap: wrap; /* ì¤„ ë°”ê¿ˆ í—ˆìš© */
    justify-content: space-between; /* ì¢Œìš° ê°„ê²© ê· ì¼ */
    align-items: center; /* ì„¸ë¡œ ì •ë ¬ ì¤‘ì•™ */
    gap: 20px; /* ì˜ì—­ ê°„ ê°„ê²© */
    background-color: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.form-group {
    display: flex;
    align-items: center; /* ì„¸ë¡œ ì •ë ¬ ì¤‘ì•™ */
    gap: 10px; /* ë‚´ë¶€ ìš”ì†Œ ê°„ ê°„ê²© */
}

    /* í¼ ë ˆì´ë¸” í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
.form-container div {
    flex: 0 1 auto; /* flex-grow ê°’ì„ 0ìœ¼ë¡œ ì„¤ì • */
    min-width: auto; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • ì œê±° */
}

    /* ì„ íƒ ë°•ìŠ¤ ë° ë‚ ì§œ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
    select, input[type="date"] {
        font-size: 15px;
        padding: 8px;
        border-radius: 5px;
        border: 1px solid #ccc;
        margin-left: 10px;
    }

    /* ìš”ì¼ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
    .weekday {
        font-size: 15px;
        font-weight: bold;
        color: #ff6347;
    }

    /* ë™ê¸°í™” ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .sync-button {
        background-color: #007bff;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        font-size: 15px;
        cursor: pointer;
        transition: background-color 0.3s ease; /* ë°°ê²½ìƒ‰ ì „í™˜ íš¨ê³¼ */
    }

    /* í™œì„±í™”ëœ ë™ê¸°í™” ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .sync-button.active {
        background-color: #ff6347;
    }

    /* ë™ê¸°í™” ë²„íŠ¼ í˜¸ë²„ ìŠ¤íƒ€ì¼ */
    .sync-button:hover {
        background-color: #0056b3;
    }

    /* ë™ì˜ìƒ ì»¨í…Œì´ë„ˆ: 4ê°œì˜ ì—´ë¡œ êµ¬ì„±ëœ ê·¸ë¦¬ë“œ */
    .video-container {
        margin-top: 10px;
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* 4ê°œ ì—´ */
        grid-gap: 10px;
    }

    /* ê°œë³„ ë™ì˜ìƒ ë˜í¼ ìŠ¤íƒ€ì¼ */
    .video-wrapper {
        position: relative; /* ìœ„ì¹˜ ê¸°ì¤€ ì„¤ì • */
        background-color: #e5e5e5;
        padding: 10px;
        border-radius: 8px;
    }

    /* ì¹´ë©”ë¼ ë ˆì´ë¸” ìŠ¤íƒ€ì¼ */
    .cam-label {
        position: absolute; /* ì ˆëŒ€ ìœ„ì¹˜ */
        top: 10px;
        left: 10px;
        background-color: rgba(0, 0, 0, 0.5); /* íˆ¬ëª… ê²€ì • ë°°ê²½ */
        color: white;
        padding: 5px;
        font-size: 15px;
    }

    /* ë™ì˜ìƒ ìŠ¤íƒ€ì¼: ë‘¥ê·¼ ëª¨ì„œë¦¬ */
    video {
        width: 100%;
        border-radius: 5px;
    }

.new-window-button:hover,
.fullscreen-button:hover {
    background-color: rgba(0, 0, 0, 0.7);
}

    /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼: ì „ì²´ í™”ë©´ ë®ëŠ” íˆ¬ëª… ê²€ì • ë°°ê²½ */
    .modal {
        display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
        position: fixed;
        z-index: 999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
    }

    /* ëª¨ë‹¬ ë‚´ìš© ìŠ¤íƒ€ì¼ */
    .modal-content {
        background-color: #fff;
        padding: 100px;
        border-radius: 10px;
        max-width: 300px; /* í¬ê¸°ë¥¼ ë” ì¢ê²Œ ì¡°ì • */
        width: 100%;
        box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ */
    }

    /* ëª¨ë‹¬ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
    .modal-content input[type="text"] {
        width: 100%; /* ì…ë ¥ í•„ë“œì˜ ë„ˆë¹„ë¥¼ ì»¨í…Œì´ë„ˆì— ë§ì¶¤ */
        padding: 10px; /* ì—¬ë°± ì¶”ê°€ */
        box-sizing: border-box;
    }

    /* ëª¨ë‹¬ í—¤ë” ìŠ¤íƒ€ì¼ */
    .modal-header {
        font-size: 15px;
        margin-bottom: 10px;
    }

    /* ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .close-btn {
        background-color: #d9534f;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    /* ëª¨ë‹¬ ë‚´ ì¶”ê°€ í•€ ë¹„ë””ì˜¤ ì˜ì—­ */
    .pin-video {
        margin-top: 20px;
    }

/* ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
.button-container {
    position: absolute; /* ë™ì˜ìƒ ìƒë‹¨ ìš°ì¸¡ì— ê³ ì • */
    top: 10px; /* ìœ„ìª½ ì—¬ë°± */
    right: 10px; /* ì˜¤ë¥¸ìª½ ì—¬ë°± */
    display: flex; /* ë²„íŠ¼ì„ ê°€ë¡œë¡œ ì •ë ¬ */
    gap: 5px; /* ë²„íŠ¼ ê°„ ê°„ê²© */
}

/* ê³µí†µ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.video-button {
    background-color: rgba(0, 0, 0, 0.5); /* ë°˜íˆ¬ëª… ê²€ì • ë°°ê²½ */
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s;
    z-index: 10;
}

/* ë²„íŠ¼ í˜¸ë²„ ìŠ¤íƒ€ì¼ */
.video-button:hover {
    background-color: rgba(0, 0, 0, 0.7);
}

.keypad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-top: 20px;
}

.key {
    padding: 15px;
    font-size: 18px;
    border: none;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
    cursor: pointer;
    text-align: center;
    transition: background-color 0.3s;
}

.key:hover {
    background-color: #0056b3;
}

/* ìš”ì¼ í•„í„° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.weekday-filter {
    display: flex;
    gap: 2px;
    margin-bottom: 2px;
    margin-right: 2px; /* ìš”ì¼ í•„í„°ì™€ êµì‹¤ ì„ íƒ ê°„ ì—¬ë°± ì¶•ì†Œ */
}

.day-button {
    padding: 3px 5px;
    font-size: 12px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}



.day-button:hover {
    background-color: #0056b3;
}

.day-button.active {
    background-color: #ff6347;
    color: white;
}

</style>
</head>






<body>
<!-- ìƒë‹¨ ì„¹ì…˜ -->
<div class="top-section">
    <!-- ì™¼ìª½ ì •ë³´ í‘œì‹œ -->
    <div class="header-left">
        <h1><span id="selectedSiteID"></span></h1>
        <button id="taggingSlideButton">
            íƒœê¹…ìŠ¬ë¼ì´ë“œ
        </button>
    </div>
    
    <!-- ì˜¤ë¥¸ìª½ ìˆì»· -->
    <div class="header-right">
        <a href="https://admin.playtagapp.com/company" target="_blank" class="shortcut-link">Admin Tool</a>
        <a href="https://rerun.playtag.ai/" target="_blank" class="shortcut-link">Perception Admin</a>
        <a href="https://drive.google.com/drive/u/0/folders/1vT4hkgnCpP781ZjPCRWGUjOtxzDymFGB" target="_blank" class="shortcut-link">íƒœê¹…ìŠ¬ë¼ì´ë“œ ê³µìœ í´ë”</a>
        <a href="https://annotation.playtag.ai/" target="_blank" class="shortcut-link">êµ¬_Video annotation</a>

    </div>
</div>

<!-- PIN ëª¨ë‹¬ -->
<div id="pinModal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
        <!-- ëª¨ë‹¬ í—¤ë” -->
        <div class="modal-header">íŒíŠ¸: ì•ˆì•Œë´ì¥¼</div>
        <!-- PIN ì…ë ¥ í•„ë“œ -->
        <input type="password" id="pinInput" placeholder="PIN ì…ë ¥" style="width: 175px; padding: 10px; margin-top: 10px; text-align: center;" readonly>
        <!-- ìˆ«ì í‚¤íŒ¨ë“œ -->
        <div class="keypad">
            <!-- ìˆ«ì ë²„íŠ¼ -->
            <button class="key" onclick="addPinDigit('1')">1</button>
            <button class="key" onclick="addPinDigit('2')">2</button>
            <button class="key" onclick="addPinDigit('3')">3</button>
            <button class="key" onclick="addPinDigit('4')">4</button>
            <button class="key" onclick="addPinDigit('5')">5</button>
            <button class="key" onclick="addPinDigit('6')">6</button>
            <button class="key" onclick="addPinDigit('7')">7</button>
            <button class="key" onclick="addPinDigit('8')">8</button>
            <button class="key" onclick="addPinDigit('9')">9</button>
            <!-- ì¶”ê°€ ë²„íŠ¼ -->
            <button class="key" onclick="clearPin()">â†</button>
            <button class="key" onclick="addPinDigit('0')">0</button>
            <button class="key" onclick="verifyPin()">OK</button>
        </div>
    </div>
</div>

<div class="form-container">
    <!-- í•„í„° ì˜ì—­ -->
    <div class="form-group">
        <div class="weekday-filter">
            <button class="day-button" onclick="filterByWeekday('ì›”')">ì›”</button>
            <button class="day-button" onclick="filterByWeekday('í™”')">í™”</button>
            <button class="day-button" onclick="filterByWeekday('ìˆ˜')">ìˆ˜</button>
            <button class="day-button" onclick="filterByWeekday('ëª©')">ëª©</button>
            <button class="day-button" onclick="filterByWeekday('ê¸ˆ')">ê¸ˆ</button>
            <button class="day-button" onclick="filterByWeekday('all')">ì „ì²´</button>
        </div>
        <div>
            <input type="text" id="searchInput" placeholder="í•„í„°ê²€ìƒ‰ì–´"
                style="padding: 5px; font-size: 10px; width: 200px;" oninput="filterPrograms()">
        </div>
    </div>

    <!-- êµì‹¤ ì„ íƒ ì˜ì—­ -->
    <div class="form-group">
        <label for="program">êµì‹¤ ì„ íƒ:</label>
        <select id="program" onchange="changeProgram()">
            <!-- êµì‹¤ ë¦¬ìŠ¤íŠ¸ -->		
<option value="anrakhyeondae_haengbokhae" data-site="anrakhyeondae_haengbokhae">1. ì•ˆë½í˜„ëŒ€ ì–´ë¦°ì´ì§‘-í–‰ë³µí•´: ì›”, í™”, ìˆ˜</option>
<option value="baycent_1x2" data-site="baycent_1x2">2. ê´‘ì–‘ë² ì´ì„¼íŠ¸ ì–´ë¦°ì´ì§‘-ì›ƒìŒê°€ë“: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="baycent_1x3" data-site="baycent_1x3">3. ê´‘ì–‘ë² ì´ì„¼íŠ¸ ì–´ë¦°ì´ì§‘-ê¸°ì¨ê°€ë“: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="dongnaehaengbok_baram" data-site="dongnaehaengbok_baram">4. ë™ë˜í–‰ë³µì£¼íƒ ì–´ë¦°ì´ì§‘-ë°”ëŒì†”ì†”: ì›”, ìˆ˜, ëª©</option>
<option value="dongnaehaengbok_dal" data-site="dongnaehaengbok_dal">5. ë™ë˜í–‰ë³µì£¼íƒ ì–´ë¦°ì´ì§‘-ë‹¬ë°ì€: ì›”, ëª©</option>
<option value="dongnaekkume_chingchanhae" data-site="dongnaekkume_chingchanhae">6. ë™ë˜ê¿ˆì—ê·¸ë¦° ì–´ë¦°ì´ì§‘-ì¹­ì°¬í•´: ì›”, ëª©</option>
<option value="dongnaekkume_gamsahae" data-site="dongnaekkume_gamsahae">7. ë™ë˜ê¿ˆì—ê·¸ë¦° ì–´ë¦°ì´ì§‘-ê°ì‚¬í•´: ì›”, ëª©</option>
<option value="dongnaekkume_haengbokhae" data-site="dongnaekkume_haengbokhae">8. ë™ë˜ê¿ˆì—ê·¸ë¦° ì–´ë¦°ì´ì§‘-í–‰ë³µí•´: ì›”, ìˆ˜, ëª©</option>
<option value="dongnaekkume_joahae" data-site="dongnaekkume_joahae">9. ë™ë˜ê¿ˆì—ê·¸ë¦° ì–´ë¦°ì´ì§‘-ì¢‹ì•„í•´: ì›”, ëª©</option>
<option value="dongnaekkume_saranghae" data-site="dongnaekkume_saranghae">10. ë™ë˜ê¿ˆì—ê·¸ë¦° ì–´ë¦°ì´ì§‘-ì‚¬ë‘í•´: ì›”, ëª©</option>
<option value="dongnaekkume_sojunghae" data-site="dongnaekkume_sojunghae">11. ë™ë˜ê¿ˆì—ê·¸ë¦° ì–´ë¦°ì´ì§‘-ì†Œì¤‘í•´: ì›”, ëª©</option>
<option value="geumbithaneul_dodam" data-site="geumbithaneul_dodam">12. ì‹œë¦½ê¸ˆë¹›í•˜ëŠ˜ ì–´ë¦°ì´ì§‘-ë„ë‹´: ì›”, ìˆ˜</option>
<option value="geumbithaneul_hangyeol" data-site="geumbithaneul_hangyeol">13. ì‹œë¦½ê¸ˆë¹›í•˜ëŠ˜ ì–´ë¦°ì´ì§‘-í•œê²°: ì›”, ìˆ˜</option>
<option value="harrington_bada" data-site="harrington_bada">14. íš¨ì„±í•´ë§í„´ ì–´ë¦°ì´ì§‘-ë°”ë‹¤: í™”, ëª©, ê¸ˆ</option>
<option value="harrington_gureumsongyi" data-site="harrington_gureumsongyi">15. íš¨ì„±í•´ë§í„´ ì–´ë¦°ì´ì§‘-êµ¬ë¦„ì†¡ì´: í™”, ëª©, ê¸ˆ</option>
<option value="harrington_haneul" data-site="harrington_haneul">16. íš¨ì„±í•´ë§í„´ ì–´ë¦°ì´ì§‘-í•˜ëŠ˜: í™”, ëª©, ê¸ˆ</option>
<option value="myeongryunjai_dalnim" data-site="myeongryunjai_dalnim">17. ëª…ë¥œìì´ ì–´ë¦°ì´ì§‘-ë‹¬ë‹˜: ì›”, ìˆ˜, ê¸ˆ</option>
<option value="myeongryunjai_haenim" data-site="myeongryunjai_haenim">18. ëª…ë¥œìì´ ì–´ë¦°ì´ì§‘-í•´ë‹˜: í™”, ëª©, ê¸ˆ</option>
<option value="myeongryunjai_haneulwooju" data-site="myeongryunjai_haneulwooju">19. ëª…ë¥œìì´-í•˜ëŠ˜ìš°ì£¼ (1+2í†µí•©ë°˜): ëª©, ê¸ˆ</option>
<option value="namcheonsyap_chambyeol" data-site="namcheonsyap_chambyeol">20. ë‚¨ì²œë”ìƒµ ì–´ë¦°ì´ì§‘-ì°¸ë³„: ì›”, í™”, ëª©</option>
<option value="namcheonsyap_kkumbyeol" data-site="namcheonsyap_kkumbyeol">21. ë‚¨ì²œë”ìƒµ ì–´ë¦°ì´ì§‘-ê¿ˆë³„: ì›”, í™”, ëª©</option>
<option value="noblecounty_healthcare" data-site="noblecounty_healthcare">22. ë…¸ë¸”ì¹´ìš´í‹°-í—¬ìŠ¤ì¼€ì–´: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="noblecounty_program" data-site="noblecounty_program">23. ë…¸ë¸”ì¹´ìš´í‹°-í”„ë¡œê·¸ë¨: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="poseung_1x4" data-site="poseung_1x4">24. ì‹œë¦½í¬ìŠ¹ ì–´ë¦°ì´ì§‘-íŒŒë‘: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="sarangsaem_2x3" data-site="sarangsaem_2x3">25. ì‚¬ë‘ìƒ˜ ìœ ì¹˜ì›-í•˜ë‚˜ìš¸: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="sarangsaem_2x5" data-site="sarangsaem_2x5">26. ì‚¬ë‘ìƒ˜ ìœ ì¹˜ì›-ì†”ë‚˜ë¦¬: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>
<option value="sarangsaem_3x3" data-site="sarangsaem_3x3">27. ì‚¬ë‘ìƒ˜ ìœ ì¹˜ì›-ì•„ë¦¬ì†”: ì›”, í™”, ìˆ˜, ëª©, ê¸ˆ</option>

        </select>
    </div>

    <!-- ë‚ ì§œ ì„ íƒ ì˜ì—­ -->
    <div class="form-group">
        <label for="date">ì„ íƒ ë‚ ì§œ:</label>
        <input type="date" id="date" onchange="updateWeekday()">
        <span id="weekday" class="weekday"></span>
    </div>
</div>

        <!-- ë‹¨ì¶•í‚¤ ë° ì‚¬ìš© íŒ -->
        <div>
            <p style="font-size: 10px; color: #555; margin-top: 1px;">
                #ë‹¨ì¶•í‚¤: ìŠ¤í˜ì´ìŠ¤ë°”(ì¼ê´„ì •ì§€/ì¬ìƒ),ìˆ«ì1234(-3ë¶„,-30ì´ˆ,+30ì´ˆ,+3ë¶„), E(ì´ì „ì‹±í¬), R(ë‹¤ìŒì‹±í¬)     #Tip. [ì „ì²´]ë²„íŠ¼ìœ¼ë¡œ í™”ë©´ ì „í™˜ í›„ ìŠ¤í˜ì´ìŠ¤ë°”ë¥¼ ëˆ„ë¥´ë©´ ì¼ê´„ì •ì§€/ì¼ê´„ì¬ìƒ ë©ë‹ˆë‹¤. (241031 Update)
            </p>
        </div>

    <!-- ë™ê¸°í™” ë²„íŠ¼ ì»¨í…Œì´ë„ˆ (ìƒë‹¨) -->
    <div class="sync-container top" id="syncContainerTop"></div>
    
    <!-- ë™ì˜ìƒ ì»¨í…Œì´ë„ˆ -->
    <div class="video-container" id="videoContainer"></div>
    
    <!-- ë™ê¸°í™” ë²„íŠ¼ ì»¨í…Œì´ë„ˆ (í•˜ë‹¨) -->
    <div class="sync-container bottom" id="syncContainerBottom"></div>

</body>






<script>
let classroomData = []; // JSON ë°ì´í„°ë¥¼ ì €ì¥í•  ì „ì—­ ë³€ìˆ˜ ì„ ì–¸

/**
 * JSON ë°ì´í„°ë¥¼ ë¹„ë™ê¸° ë¡œë“œí•˜ëŠ” í•¨ìˆ˜
 */
async function loadClassroomData() {
    try {
        const response = await fetch('/classroom.json'); // JSON íŒŒì¼ ê²½ë¡œ í™•ì¸
        if (!response.ok) {
            throw new Error('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë˜ëŠ” JSON íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.');
        }
        classroomData = await response.json();
        console.log("âœ… JSON ë°ì´í„° ë¡œë“œ ì„±ê³µ:", classroomData); // ë¡œë“œ ì„±ê³µ í™•ì¸
    } catch (error) {
        console.error('âŒ JSON ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
    }
}

/**
 * í˜ì´ì§€ ë¡œë“œ ì‹œ JSON ë°ì´í„°ë¥¼ ë¡œë“œ
 */
document.addEventListener('DOMContentLoaded', async () => {
    await loadClassroomData(); // JSON ë°ì´í„° ë¡œë“œ
});

/**
 * íƒœê¹…ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
 */
document.getElementById('taggingSlideButton').addEventListener('click', async function () {
    // JSON ë°ì´í„°ê°€ ë¹„ì–´ ìˆìœ¼ë©´ ë‹¤ì‹œ ë¡œë“œ ì‹œë„
    if (!classroomData || classroomData.length === 0) {
        console.warn("âš ï¸ JSON ë°ì´í„°ê°€ ë¹„ì–´ ìˆìŒ. ì¬ì‹œë„ ì¤‘...");
        await loadClassroomData(); // ë‹¤ì‹œ ë¡œë“œ ì‹œë„
    }

    // ì—¬ì „íˆ JSON ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê²½ê³  ë©”ì‹œì§€ ì¶œë ¥
    if (!classroomData || classroomData.length === 0) {
        alert('JSON ë°ì´í„°ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.');
        return;
    }

    const programSelect = document.getElementById('program');
    const selectedSiteID = programSelect.options[programSelect.selectedIndex]?.getAttribute('data-site')?.trim();

    if (!selectedSiteID) {
        alert('ì„ íƒëœ êµì‹¤ì˜ SITE_IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        return;
    }

    console.log("ğŸ¯ ì„ íƒëœ SITE_ID:", selectedSiteID);

    const classroom = classroomData.find(item => item.SITE_ID === selectedSiteID);

    if (!classroom) {
        console.error(`âŒ ë§¤ì¹­ë˜ì§€ ì•Šì€ SITE_ID: ${selectedSiteID}`);
        alert('í•´ë‹¹ êµì‹¤ ì •ë³´ê°€ JSON ë°ì´í„°ì— ì—†ìŠµë‹ˆë‹¤.');
        return;
    }

    console.log("âœ… ë§¤ì¹­ëœ classroom ê°ì²´:", classroom);

    if (classroom.íƒœê¹…ìŠ¬ë¼ì´ë“œURL) {
        window.open(classroom.íƒœê¹…ìŠ¬ë¼ì´ë“œURL, '_blank');
    } else {
        alert('ì„ íƒëœ êµì‹¤ì— íƒœê¹…ìŠ¬ë¼ì´ë“œ URLì´ ì—†ìŠµë‹ˆë‹¤.');
    }
});

    /**
     * ê²€ìƒ‰ ê¸°ëŠ¥: ê²€ìƒ‰ì°½ ì…ë ¥ê°’ê³¼ ì¼ì¹˜í•˜ê±°ë‚˜ í¬í•¨ëœ ì˜µì…˜ë§Œ í‘œì‹œ
     */
    function filterPrograms() {
        const searchInput = document.getElementById('searchInput').value.toLowerCase(); // ê²€ìƒ‰ ì…ë ¥ê°’
        const programSelect = document.getElementById('program'); // select ìš”ì†Œ
        const options = programSelect.options; // selectì˜ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸

        // ëª¨ë“  ì˜µì…˜ì„ ë°˜ë³µí•˜ë©° í•„í„°ë§
        for (let i = 0; i < options.length; i++) {
            const optionText = options[i].textContent.toLowerCase(); // ì˜µì…˜ì˜ í…ìŠ¤íŠ¸
            if (optionText.includes(searchInput)) {
                options[i].style.display = ''; // ê²€ìƒ‰ì–´ì™€ ì¼ì¹˜í•˜ë©´ í‘œì‹œ
            } else {
                options[i].style.display = 'none'; // ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ìˆ¨ê¹€
            }
        }
    }

    // 1. ì „ì—­ ë³€ìˆ˜ ì •ì˜
    let activeButton = null;
    let pinModal = document.getElementById('pinModal');
    let pinVideoElement = document.getElementById('pinVideo');

    // 2. DOMContentLoaded ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ: í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
        pinModal.style.display = 'flex';  // PIN ëª¨ë‹¬ í‘œì‹œ
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date').value = today;  // ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
        updateWeekday();  // ìš”ì¼ ì—…ë°ì´íŠ¸
        loadSyncButtons();  // ì‹±í¬ ë²„íŠ¼ ë¡œë“œ
        updateSiteID();  // ì‚¬ì´íŠ¸ ID ì—…ë°ì´íŠ¸
    });

    // 3. í”„ë¡œê·¸ë¨ ë³€ê²½ ì´ë²¤íŠ¸: êµì‹¤ ì„ íƒ ë³€ê²½ ì‹œ í˜¸ì¶œ
    function changeProgram() {
        loadSyncButtons();  // ì‹±í¬ ë²„íŠ¼ ì—…ë°ì´íŠ¸
        updateSiteID();  // ì‚¬ì´íŠ¸ ID ê°±ì‹ 
        const button = document.getElementById("taggingSlideButton");
        button.style.display = "block";  // íƒœê¹… ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ í‘œì‹œ
    }

    // 4. ì‚¬ì´íŠ¸ ID ë° ìš”ì¼ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateSiteID() {
        const programSelect = document.getElementById('program');
        const selectedOption = programSelect.options[programSelect.selectedIndex];
        const siteID = selectedOption.getAttribute('data-site');  // ì„ íƒëœ ì‚¬ì´íŠ¸ ID
        const weekdaysText = selectedOption.textContent.split(": ")[1];  // ìš”ì¼ ì •ë³´
        document.getElementById('selectedSiteID').textContent = `${siteID} (${weekdaysText})`;
    }

    // 5. ë‚ ì§œ ì…ë ¥ê°’ìœ¼ë¡œ ìš”ì¼ ì—…ë°ì´íŠ¸
    function updateWeekday() {
        const dateInput = document.getElementById('date').value;
        const date = new Date(dateInput);
        const weekdays = ['ì¼ìš”ì¼', 'ì›”ìš”ì¼', 'í™”ìš”ì¼', 'ìˆ˜ìš”ì¼', 'ëª©ìš”ì¼', 'ê¸ˆìš”ì¼', 'í† ìš”ì¼'];
        const weekday = weekdays[date.getDay()];
        document.getElementById('weekday').innerHTML = `<span style="font-weight: bold;">${weekday}</span>`;
    }

    // 6. ì‹±í¬ ë²„íŠ¼ ë¡œë“œ í•¨ìˆ˜
    function loadSyncButtons() {
        const program = document.getElementById('program').value;
        const syncContainerTop = document.getElementById('syncContainerTop');
        const syncContainerBottom = document.getElementById('syncContainerBottom');
        syncContainerTop.innerHTML = '';  // ìƒë‹¨ ì‹±í¬ ë²„íŠ¼ ì´ˆê¸°í™”
        syncContainerBottom.innerHTML = '';  // í•˜ë‹¨ ì‹±í¬ ë²„íŠ¼ ì´ˆê¸°í™”

        const totalSyncs = 42;  // ì´ ì‹±í¬ ìˆ˜

        // ìƒë‹¨ ì‹±í¬ ë²„íŠ¼ (0~17ë²ˆ)
        for (let i = 0; i <= 17; i++) {
            const button = document.createElement('button');
            button.classList.add('sync-button');
            button.textContent = `Sync ${i} (${formatTime(i)})`;  // ë²„íŠ¼ í…ìŠ¤íŠ¸ ì„¤ì •
            button.onclick = function() {
                loadVideos(`sync${String(i).padStart(3, '0')}`, this);  // ë™ì˜ìƒ ë¡œë“œ
            };
            syncContainerTop.appendChild(button);
        }

        // í•˜ë‹¨ ì‹±í¬ ë²„íŠ¼ (18~41ë²ˆ), íŠ¹ì • í”„ë¡œê·¸ë¨ì—ì„œë§Œ í‘œì‹œ
        if (program === 'noblecounty_program' || program === 'noblecounty_healthcare') {
            for (let i = 18; i < totalSyncs; i++) {
                const button = document.createElement('button');
                button.classList.add('sync-button');
                button.textContent = `Sync ${i} (${formatTime(i)})`;  // ë²„íŠ¼ í…ìŠ¤íŠ¸ ì„¤ì •
                button.onclick = function() {
                    loadVideos(`sync${String(i).padStart(3, '0')}`, this);  // ë™ì˜ìƒ ë¡œë“œ
                };
                syncContainerBottom.appendChild(button);
            }
        }
    }

    // 7. ì‹±í¬ ë²ˆí˜¸ë¥¼ ì‹œê°„ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    function formatTime(syncIndex) {
        const startHour = 9;  // ì‹œì‘ ì‹œê°„
        const totalMinutes = syncIndex * 10;  // 10ë¶„ ë‹¨ìœ„
        const hours = Math.floor((startHour * 60 + totalMinutes) / 60);
        const minutes = totalMinutes % 60;
        return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
    }

// ë™ì˜ìƒë§ˆë‹¤ [ìƒˆì°½] ë° [ì „ì²´] ë²„íŠ¼ ì¶”ê°€
function addVideoButtons(videoWrapper, video) {
    // ìƒˆ ì°½ ë³´ê¸° ë²„íŠ¼
    const newWindowButton = document.createElement('button');
    newWindowButton.textContent = 'ìƒˆì°½';
    newWindowButton.classList.add('video-button', 'new-window-button');
    newWindowButton.onclick = function() {
        window.open(video.src, '_blank'); // ìƒˆ ì°½ìœ¼ë¡œ ì—´ê¸°
    };

    // ì „ì²´ í™”ë©´ ë³´ê¸° ë²„íŠ¼
    const fullscreenButton = document.createElement('button');
    fullscreenButton.textContent = 'ì „ì²´';
    fullscreenButton.classList.add('video-button', 'fullscreen-button');
    fullscreenButton.onclick = function() {
        if (video.requestFullscreen) {
            video.requestFullscreen();
        } else if (video.webkitRequestFullscreen) {
            video.webkitRequestFullscreen();
        } else if (video.msRequestFullscreen) {
            video.msRequestFullscreen();
        }
    };

    // ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì¶”ê°€
    const buttonContainer = document.createElement('div');
    buttonContainer.classList.add('button-container');
    buttonContainer.appendChild(newWindowButton);
    buttonContainer.appendChild(fullscreenButton);

    // ë²„íŠ¼ ì»¨í…Œì´ë„ˆë¥¼ ë™ì˜ìƒ ë˜í¼ì— ì¶”ê°€
    videoWrapper.appendChild(buttonContainer);
}

// ë™ì˜ìƒ ìƒì„± ë° ë²„íŠ¼ ì¶”ê°€ í˜¸ì¶œ
function loadVideos(sync, button) {
    if (activeButton) {
        activeButton.classList.remove('active'); // ì´ì „ í™œì„±í™” ë²„íŠ¼ ë¹„í™œì„±í™”
    }
    button.classList.add('active'); // í˜„ì¬ ë²„íŠ¼ í™œì„±í™”
    activeButton = button;

    const date = document.getElementById('date').value;
    const program = document.getElementById('program').value;
    const container = document.getElementById('videoContainer');
    container.innerHTML = ''; // ê¸°ì¡´ ë™ì˜ìƒ ì‚­ì œ

    // ë™ì˜ìƒ 8ê°œ ìƒì„±
    for (let i = 1; i <= 8; i++) {
        const videoWrapper = document.createElement('div');
        videoWrapper.classList.add('video-wrapper');

        const camLabel = document.createElement('div');
        camLabel.classList.add('cam-label');
        camLabel.textContent = `CAM0${i}`;

        const video = document.createElement('video');
        video.controls = true;
        video.autoplay = true;
video.src = `https://d175ce76v5cwjf.cloudfront.net/${program}/${date}/processed/${sync}/${i}.MP4`;


        // ë™ì˜ìƒ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ë©”ì‹œì§€ í‘œì‹œ
        video.onerror = function () {
            videoWrapper.innerHTML = '<p style="color: red; text-align: center;">ë™ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤.</p>';
        };

        videoWrapper.appendChild(camLabel);
        videoWrapper.appendChild(video);
        addVideoButtons(videoWrapper, video); // ìƒˆ ë²„íŠ¼ ì¶”ê°€ í•¨ìˆ˜ í˜¸ì¶œ
        container.appendChild(videoWrapper);
    }
}

    // 9. PIN ëª¨ë‹¬ ì—´ê¸°
    function openPinModal(videoSrc) {
        pinVideoElement.src = videoSrc;
        pinModal.style.display = 'flex';
    }

    // 10. PIN ëª¨ë‹¬ ë‹«ê¸°
    function closeModal() {
        pinModal.style.display = 'none';
        pinVideoElement.src = '';  // ë¹„ë””ì˜¤ ì •ì§€
    }

    // 11. ëª¨ë“  ë™ì˜ìƒ ì¼ì‹œì •ì§€
    function pauseAllVideos() {
        const videos = document.querySelectorAll('video');
        videos.forEach(video => video.pause());
    }

    // 12. ëª¨ë“  ë™ì˜ìƒ ì¬ìƒ
    function playAllVideos() {
        const videos = document.querySelectorAll('video');
        videos.forEach(video => video.play());
    }

    // 13. ë™ì˜ìƒ ì¬ìƒ ì‹œê°„ ë˜ê°ê¸°
    function rewindVideos(seconds) {
        const videos = document.querySelectorAll('video');
        videos.forEach(video => {
            video.currentTime = Math.max(video.currentTime - seconds, 0);  // 0ì´ˆ ì´í•˜ ë°©ì§€
        });
    }

    // 14. ë™ì˜ìƒ ì¬ìƒ ì‹œê°„ ì•ìœ¼ë¡œ ì´ë™
    function forwardVideos(seconds) {
        const videos = document.querySelectorAll('video');
        videos.forEach(video => {
            video.currentTime = Math.min(video.currentTime + seconds, video.duration);  // ìµœëŒ€ ê¸¸ì´ ì´ˆê³¼ ë°©ì§€
        });
    }

// 1. í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
document.addEventListener('keydown', function(event) {
    // ì…ë ¥ í•„ë“œ ë˜ëŠ” í…ìŠ¤íŠ¸ ì˜ì—­ì— í¬ì»¤ìŠ¤ê°€ ìˆì„ ê²½ìš° ë‹¨ì¶•í‚¤ ë¹„í™œì„±í™”
    if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') {
        return; // ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤ê°€ ìˆì„ ê²½ìš° ì¢…ë£Œ
    }

    // 2. ì…ë ¥ëœ í‚¤ë¥¼ ì†Œë¬¸ìë¡œ ë³€í™˜
    const key = event.key.toLowerCase();

    // ìˆ«ì ë‹¨ì¶•í‚¤ 1, 2, 3, 4 ì²˜ë¦¬
    switch (key) {
        case '1':
            rewindVideos(180); // 3ë¶„ ë˜ê°ê¸°
            break;
        case '2':
            rewindVideos(30); // 30ì´ˆ ë˜ê°ê¸°
            break;
        case '3':
            forwardVideos(30); // 30ì´ˆ ì•ìœ¼ë¡œ ì´ë™
            break;
        case '4':
            forwardVideos(180); // 3ë¶„ ì•ìœ¼ë¡œ ì´ë™
            break;
        case ' ':
            console.log('Spacebar pressed'); // ë””ë²„ê¹…: ìŠ¤í˜ì´ìŠ¤ë°” ì…ë ¥ ê°ì§€
            event.preventDefault();         // ìŠ¤í˜ì´ìŠ¤ë°” ê¸°ë³¸ ë™ì‘ ë°©ì§€
            togglePlayPause();              // ì¬ìƒ/ì •ì§€ í† ê¸€
            break;
    }
/**
 * ëª¨ë“  ë¹„ë””ì˜¤ì˜ ì¬ìƒ ìƒíƒœë¥¼ í† ê¸€í•˜ëŠ” í•¨ìˆ˜
 * - ì¬ìƒ ì¤‘ì¸ ë¹„ë””ì˜¤ê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ëª¨ë‘ ì •ì§€
 * - ì •ì§€ ìƒíƒœë¼ë©´ ëª¨ë‘ ì¬ìƒ
 */
function togglePlayPause() {
    // í˜„ì¬ ë¬¸ì„œì—ì„œ ëª¨ë“  <video> ìš”ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
    const videos = document.querySelectorAll('video');

    // ë¹„ë””ì˜¤ ë°°ì—´ì—ì„œ í•˜ë‚˜ë¼ë„ ì¬ìƒ ì¤‘ì¸ì§€ í™•ì¸
    // - video.pausedê°€ falseì¸ ê²½ìš° í•´ë‹¹ ë¹„ë””ì˜¤ëŠ” ì¬ìƒ ì¤‘ì„
    const anyPlaying = Array.from(videos).some(video => !video.paused);

    if (anyPlaying) {
        // í•˜ë‚˜ë¼ë„ ì¬ìƒ ì¤‘ì¸ ê²½ìš°: ëª¨ë“  ë¹„ë””ì˜¤ë¥¼ ì •ì§€
        videos.forEach(video => video.pause());
    } else {
        // ëª¨ë“  ë¹„ë””ì˜¤ê°€ ì •ì§€ ìƒíƒœì¸ ê²½ìš°: ëª¨ë“  ë¹„ë””ì˜¤ë¥¼ ì¬ìƒ
        videos.forEach(video => video.play());
    }
}

    // 4. ì‹±í¬ ì´ë™ ë‹¨ì¶•í‚¤ e(ì´ì „)ì™€ r(ë‹¤ìŒ) ì²˜ë¦¬
    if (key === 'e' || key === 'ã„·') {
        navigateSync(-1);  // ì´ì „ ì‹±í¬ë¡œ ì´ë™
    } else if (key === 'r' || key === 'ã„±') {
        navigateSync(1);   // ë‹¤ìŒ ì‹±í¬ë¡œ ì´ë™
    }

// ë¹„ë°€. ì‹±í¬ ì´ë™ ë‹¨ì¶•í‚¤ c, v, ã…Š, ã… ì²˜ë¦¬
if (key === 'c' || key === 'ã…Š') { // ì´ì „ 3ê°œ ì‹±í¬ë¡œ ì´ë™
    navigateSync(-3); // -3ê°œ ì´ë™
    togglePlayPause(); // ì´ë™ í›„ ì¦‰ì‹œ ì¬ìƒ
} else if (key === 'v' || key === 'ã…') { // ì´í›„ 3ê°œ ì‹±í¬ë¡œ ì´ë™
    navigateSync(3); // +3ê°œ ì´ë™
    togglePlayPause(); // ì´ë™ í›„ ì¦‰ì‹œ ì¬ìƒ
}

    // 5. êµì‹¤ ì„ íƒ ë‹¨ì¶•í‚¤ q(ìœ„ë¡œ)ì™€ w(ì•„ë˜ë¡œ) ì²˜ë¦¬
    if (key === 'q' || key === 'ã…‚') {
        changeProgramSelection(-1);  // êµì‹¤ ì„ íƒ ìƒìœ¼ë¡œ ì´ë™
    } else if (key === 'w' || key === 'ã…ˆ') {
        changeProgramSelection(1);   // êµì‹¤ ì„ íƒ í•˜ë¡œ ì´ë™
    }

    // 6. ë‚ ì§œ ì„ íƒ ë‹¨ì¶•í‚¤ a(í•˜ë£¨ ì „)ì™€ d(í•˜ë£¨ í›„) ì²˜ë¦¬
    if (key === 'a' || key === 'ã…') {
        changeDateSelection(-1);  // í•˜ë£¨ ì „ìœ¼ë¡œ ì´ë™
    } else if (key === 'd' || key === 'ã…‡') {
        changeDateSelection(1);   // í•˜ë£¨ í›„ë¡œ ì´ë™
    }

    // 7. Sync 0 ë‹¨ì¶•í‚¤ së¥¼ ëˆŒë €ì„ ë•Œ ì²« ë²ˆì§¸ ì‹±í¬ ë²„íŠ¼ ì„ íƒ
    if (key === 's' || key === 'ã„´') {
        const sync0Button = document.querySelector('.sync-button:first-child'); // ì²« ë²ˆì§¸ ì‹±í¬ ë²„íŠ¼ ê°€ì ¸ì˜¤ê¸°
        if (sync0Button) {
            sync0Button.click(); // ë²„íŠ¼ í´ë¦­
        }
    }
});

// 8. êµì‹¤ ì„ íƒ ì˜µì…˜ì„ ìœ„/ì•„ë˜ë¡œ ì´ë™ì‹œí‚¤ëŠ” í•¨ìˆ˜
function changeProgramSelection(direction) {
    const programSelect = document.getElementById('program'); // êµì‹¤ ì„ íƒ ë“œë¡­ë‹¤ìš´ ê°€ì ¸ì˜¤ê¸°
    const currentIndex = programSelect.selectedIndex; // í˜„ì¬ ì„ íƒëœ ì˜µì…˜ì˜ ì¸ë±ìŠ¤
    const newIndex = currentIndex + direction; // ì´ë™í•  ìƒˆë¡œìš´ ì¸ë±ìŠ¤ ê³„ì‚°

    // ìœ íš¨í•œ ì¸ë±ìŠ¤ ë²”ìœ„ í™•ì¸
    if (newIndex >= 0 && newIndex < programSelect.options.length) {
        programSelect.selectedIndex = newIndex; // ìƒˆë¡œìš´ ì˜µì…˜ ì„ íƒ
        changeProgram(); // ì„ íƒ ë³€ê²½ í›„ í”„ë¡œê·¸ë¨ ê°±ì‹ 
    }
}

// 9. ì‹±í¬ ë²„íŠ¼ì„ ì´ì „/ë‹¤ìŒìœ¼ë¡œ ì´ë™ì‹œí‚¤ëŠ” í•¨ìˆ˜
function navigateSync(offset) { // offset: ì´ë™ëŸ‰
    const syncButtons = document.querySelectorAll('.sync-button');
    if (activeButton) {
        let currentIndex = Array.from(syncButtons).indexOf(activeButton);
        let newIndex = currentIndex + offset;

        // ì´ë™ ë²”ìœ„ ì œí•œ
        if (newIndex < 0) {
            newIndex = 0; // ìµœì†Œê°’(0ë²ˆ ì‹±í¬)ë¡œ ì œí•œ
        } else if (newIndex >= syncButtons.length) {
            newIndex = syncButtons.length - 1; // ìµœëŒ€ê°’(ë§ˆì§€ë§‰ ì‹±í¬)ë¡œ ì œí•œ
        }

        // ì´ë™ í›„ ì‹±í¬ ë²„íŠ¼ í´ë¦­
        syncButtons[newIndex].click();
        activeButton = syncButtons[newIndex]; // í™œì„± ë²„íŠ¼ ê°±ì‹ 
    }
}

// 10. ë‚ ì§œ ì„ íƒ í•„ë“œë¥¼ í•˜ë£¨ ì „/í›„ë¡œ ì´ë™ì‹œí‚¤ëŠ” í•¨ìˆ˜
function changeDateSelection(direction) {
    const dateInput = document.getElementById('date'); // ë‚ ì§œ ì…ë ¥ í•„ë“œ ê°€ì ¸ì˜¤ê¸°
    const currentDate = new Date(dateInput.value); // í˜„ì¬ ë‚ ì§œ ê°€ì ¸ì˜¤ê¸°
    currentDate.setDate(currentDate.getDate() + direction); // ë‚ ì§œë¥¼ directionë§Œí¼ ì´ë™

    dateInput.value = currentDate.toISOString().split('T')[0]; // ì´ë™ëœ ë‚ ì§œë¥¼ í•„ë“œì— ì„¤ì •
    updateWeekday(); // ìš”ì¼ ê°±ì‹  í•¨ìˆ˜ í˜¸ì¶œ
}



function verifyPin() {
    const inputPin = document.getElementById('pinInput').value;
    const correctPin = '1240'; // ì˜¬ë°”ë¥¸ PIN ì„¤ì •

    if (inputPin === correctPin) {
        pinModal.style.display = 'none';
    } else {
        alert('PINì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}

function addPinDigit(digit) {
    const pinInput = document.getElementById('pinInput');
    if (pinInput.value.length < 4) { // ìµœëŒ€ 4ìë¦¬ ì œí•œ
        pinInput.value += digit;
    }
}

function clearPin() {
    const pinInput = document.getElementById('pinInput');
    pinInput.value = '';
}

function verifyPin() {
    const pinInput = document.getElementById('pinInput').value;
    const correctPin = '1240'; // ì˜¬ë°”ë¥¸ PIN ì„¤ì •

    if (pinInput === correctPin) {
        document.getElementById('pinModal').style.display = 'none'; // ëª¨ë‹¬ ë‹«ê¸°
    } else {
        alert('PINì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.');
        clearPin();
    }
}

/**
 * ìš”ì¼ë³„ í•„í„°ë§ í•¨ìˆ˜
 * - ì„ íƒëœ ìš”ì¼ê³¼ ì¼ì¹˜í•˜ëŠ” êµì‹¤ë§Œ í‘œì‹œ
 * - 'ì „ì²´' ë²„íŠ¼ í´ë¦­ ì‹œ ëª¨ë“  êµì‹¤ í‘œì‹œ
 */
function filterByWeekday(day) {
    const programSelect = document.getElementById('program');
    const options = programSelect.options;

    // ëª¨ë“  ì˜µì…˜ì„ ë°˜ë³µí•˜ë©° í•„í„°ë§
    for (let i = 0; i < options.length; i++) {
        const optionText = options[i].textContent; // ì˜µì…˜ì˜ í…ìŠ¤íŠ¸
        if (day === 'all' || optionText.includes(day)) {
            options[i].style.display = ''; // ì„ íƒëœ ìš”ì¼ê³¼ ì¼ì¹˜í•˜ë©´ í‘œì‹œ
        } else {
            options[i].style.display = 'none'; // ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ìˆ¨ê¹€
        }
    }

    // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
    document.querySelectorAll('.day-button').forEach(button => {
        if (button.textContent === day || (day === 'all' && button.textContent === 'ì „ì²´')) {
            button.classList.add('active');
        } else {
            button.classList.remove('active');
        }
    });
}

document.addEventListener('DOMContentLoaded', function() {
    document.querySelector('.day-button.active')?.classList.remove('active');
    document.querySelector('.day-button:last-child')?.classList.add('active'); // 'ì „ì²´' ë²„íŠ¼
});

// ìš”ì¼ë³„ í•„í„°ë§ í•¨ìˆ˜ ìˆ˜ì •
function filterByWeekday(day) {
    const programSelect = document.getElementById('program');
    const allOptions = programSelect.querySelectorAll('option');

    // ì„ íƒëœ ìš”ì¼ê³¼ ì¼ì¹˜í•˜ëŠ” ì˜µì…˜ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ëŠ” ì œê±°
    programSelect.innerHTML = ''; // ê¸°ì¡´ ì˜µì…˜ ì´ˆê¸°í™”
    allOptions.forEach(option => {
        const optionText = option.textContent;
        if (day === 'all' || optionText.includes(day)) {
            programSelect.appendChild(option); // ìš”ì¼ ì¼ì¹˜ ì˜µì…˜ ì¶”ê°€
        }
    });

    // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
    document.querySelectorAll('.day-button').forEach(button => {
        if (button.textContent === day || (day === 'all' && button.textContent === 'ì „ì²´')) {
            button.classList.add('active');
        } else {
            button.classList.remove('active');
        }
    });

    // ì²« ë²ˆì§¸ ì˜µì…˜ì„ ì„ íƒ ìƒíƒœë¡œ ì„¤ì •
    programSelect.selectedIndex = 0;
    changeProgram(); // ì„ íƒëœ í”„ë¡œê·¸ë¨ ê°±ì‹ 
}

// ë‹¨ì¶•í‚¤ ê´€ë ¨ í•¨ìˆ˜ ìˆ˜ì •
function changeProgramSelection(direction) {
    const programSelect = document.getElementById('program');
    const currentIndex = programSelect.selectedIndex; // í˜„ì¬ ì„ íƒëœ ì˜µì…˜ ì¸ë±ìŠ¤
    const newIndex = currentIndex + direction; // ì´ë™í•  ìƒˆë¡œìš´ ì¸ë±ìŠ¤ ê³„ì‚°

    // ìœ íš¨í•œ ì¸ë±ìŠ¤ ë²”ìœ„ í™•ì¸
    if (newIndex >= 0 && newIndex < programSelect.options.length) {
        programSelect.selectedIndex = newIndex; // ìƒˆë¡œìš´ ì˜µì…˜ ì„ íƒ
        changeProgram(); // ì„ íƒ ë³€ê²½ í›„ í”„ë¡œê·¸ë¨ ê°±ì‹ 
    }
}

// í˜„ì¬ ëˆŒë¦° í‚¤ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ ê°ì²´
const keysPressed = {};

// í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
document.addEventListener('keydown', (event) => {
    keysPressed[event.key] = true; // ëˆŒë¦° í‚¤ ê¸°ë¡

    // 'z'ì™€ 'x' í‚¤ê°€ ë™ì‹œì— ëˆŒë¦° ê²½ìš° ë˜ëŠ” 'ã…‹'ì™€ 'ã…Œ' í‚¤ê°€ ë™ì‹œì— ëˆŒë¦° ê²½ìš°
    if ((keysPressed['z'] && keysPressed['x']) || (keysPressed['ã…‹'] && keysPressed['ã…Œ'])) {
        const pinModal = document.getElementById('pinModal');
        if (pinModal.style.display === 'flex') { // ëª¨ë‹¬ì´ ì—´ë ¤ ìˆëŠ” ê²½ìš°
            pinModal.style.display = 'none'; // ëª¨ë‹¬ ë‹«ê¸°
        }
    }
});

document.addEventListener('keyup', (event) => {
    delete keysPressed[event.key]; // í‚¤ê°€ ë–¼ì–´ì§€ë©´ ê¸°ë¡ì—ì„œ ì œê±°
});

</script>
</body>
</html>
